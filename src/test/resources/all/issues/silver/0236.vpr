// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

domain Option[T] {
  axiom ax_Option_None_discr {
    Option_discr(Option_None()) == 0
  }
  function Option_discr(Option[T]): Int
  function Option_None(): Option[T]
  function Option_Some(T): Option[T]
}

method m() {
    assert Option_discr((Option_None(): Option[Bool])) == 0;
    assert Option_discr((Option_None(): Option[Ref])) == 0;

    //:: ExpectedOutput(assert.failed:assertion.false)
    assert Option_discr((Option_None(): Option[Perm])) == 1;
}