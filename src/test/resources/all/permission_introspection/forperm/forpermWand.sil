field f: Int

method m1(x: Ref, y: Ref) {
    inhale acc(x.f)
    inhale x.f > 0
    inhale acc(x.f) --* acc(y.f)

    assert forperm a: Ref, b: Ref :: [acc(a.f) --* acc(b.f)] a.f > 0
    apply acc(x.f) --* acc(y.f)
    assert forperm a: Ref, b: Ref :: [acc(a.f) --* acc(b.f)] false
}

method m2(x: Ref, y: Ref, z: Ref) {
    inhale acc(x.f)
    inhale acc(y.f)
    inhale acc(z.f)
    inhale acc(x.f) --* acc(y.f)
    inhale acc(z.f) --* acc(y.f)
    inhale forperm a: Ref, b: Ref :: [acc(a.f) --* acc(b.f)] a.f > 0 && b.f < 0

    assert x.f > 0
    assert y.f < 0

    inhale forperm a: Ref, b: Ref :: [acc(a.f) --* acc(b.f)] a == x

    assert x == z
}
