field f: Int
field g: Int

method m1(x: Ref, y: Ref) {
    inhale forall a: Ref :: acc(a.f) --* acc(x.g)
    //:: IgnoreFile(/Carbon/issue/243/)
    assert perm(acc(x.f) --* acc(x.g)) == write
    //:: IgnoreFile(/Carbon/issue/243/)
    assert perm(acc(y.f) --* acc(y.g)) == write
}

method m2(x: Ref, y: Ref) {
    inhale forall a: Ref :: acc(a.f)
    inhale forall a: Ref :: a.f > 3 ==> acc(a.f) --* acc(x.g)
    inhale x.f > 3
    //:: IgnoreFile(/Carbon/issue/243/)
    assert perm(acc(x.f) --* acc(x.g)) == write
    inhale acc(y.f) --* acc(y.g)

    if (x == y) {
        //:: IgnoreFile(/Carbon/issue/243/)
        assert perm(acc(x.f) --* acc(x.g)) == 2 * write
    }
}